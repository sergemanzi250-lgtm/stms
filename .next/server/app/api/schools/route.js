"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/schools/route";
exports.ids = ["app/api/schools/route"];
exports.modules = {

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("@prisma/client");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fschools%2Froute&page=%2Fapi%2Fschools%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fschools%2Froute.ts&appDir=c%3A%5CUsers%5CTRAINER%201%5CDesktop%5CWEB%20DEVELOP%5CAUTOMATIC%20SCHOOL%20TIMETABLE%20MANAGEMENT%20SYSTEM%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=c%3A%5CUsers%5CTRAINER%201%5CDesktop%5CWEB%20DEVELOP%5CAUTOMATIC%20SCHOOL%20TIMETABLE%20MANAGEMENT%20SYSTEM&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fschools%2Froute&page=%2Fapi%2Fschools%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fschools%2Froute.ts&appDir=c%3A%5CUsers%5CTRAINER%201%5CDesktop%5CWEB%20DEVELOP%5CAUTOMATIC%20SCHOOL%20TIMETABLE%20MANAGEMENT%20SYSTEM%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=c%3A%5CUsers%5CTRAINER%201%5CDesktop%5CWEB%20DEVELOP%5CAUTOMATIC%20SCHOOL%20TIMETABLE%20MANAGEMENT%20SYSTEM&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var c_Users_TRAINER_1_Desktop_WEB_DEVELOP_AUTOMATIC_SCHOOL_TIMETABLE_MANAGEMENT_SYSTEM_src_app_api_schools_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/schools/route.ts */ \"(rsc)/./src/app/api/schools/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/schools/route\",\n        pathname: \"/api/schools\",\n        filename: \"route\",\n        bundlePath: \"app/api/schools/route\"\n    },\n    resolvedPagePath: \"c:\\\\Users\\\\TRAINER 1\\\\Desktop\\\\WEB DEVELOP\\\\AUTOMATIC SCHOOL TIMETABLE MANAGEMENT SYSTEM\\\\src\\\\app\\\\api\\\\schools\\\\route.ts\",\n    nextConfigOutput,\n    userland: c_Users_TRAINER_1_Desktop_WEB_DEVELOP_AUTOMATIC_SCHOOL_TIMETABLE_MANAGEMENT_SYSTEM_src_app_api_schools_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/schools/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZzY2hvb2xzJTJGcm91dGUmcGFnZT0lMkZhcGklMkZzY2hvb2xzJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGc2Nob29scyUyRnJvdXRlLnRzJmFwcERpcj1jJTNBJTVDVXNlcnMlNUNUUkFJTkVSJTIwMSU1Q0Rlc2t0b3AlNUNXRUIlMjBERVZFTE9QJTVDQVVUT01BVElDJTIwU0NIT09MJTIwVElNRVRBQkxFJTIwTUFOQUdFTUVOVCUyMFNZU1RFTSU1Q3NyYyU1Q2FwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9YyUzQSU1Q1VzZXJzJTVDVFJBSU5FUiUyMDElNUNEZXNrdG9wJTVDV0VCJTIwREVWRUxPUCU1Q0FVVE9NQVRJQyUyMFNDSE9PTCUyMFRJTUVUQUJMRSUyME1BTkFHRU1FTlQlMjBTWVNURU0maXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQzBFO0FBQ3ZKO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUVBQWlFO0FBQ3pFO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDdUg7O0FBRXZIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2Nob29sLXRpbWV0YWJsZS1tYW5hZ2VtZW50Lz8wY2ZmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcImM6XFxcXFVzZXJzXFxcXFRSQUlORVIgMVxcXFxEZXNrdG9wXFxcXFdFQiBERVZFTE9QXFxcXEFVVE9NQVRJQyBTQ0hPT0wgVElNRVRBQkxFIE1BTkFHRU1FTlQgU1lTVEVNXFxcXHNyY1xcXFxhcHBcXFxcYXBpXFxcXHNjaG9vbHNcXFxccm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL3NjaG9vbHMvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9zY2hvb2xzXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9zY2hvb2xzL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiYzpcXFxcVXNlcnNcXFxcVFJBSU5FUiAxXFxcXERlc2t0b3BcXFxcV0VCIERFVkVMT1BcXFxcQVVUT01BVElDIFNDSE9PTCBUSU1FVEFCTEUgTUFOQUdFTUVOVCBTWVNURU1cXFxcc3JjXFxcXGFwcFxcXFxhcGlcXFxcc2Nob29sc1xcXFxyb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvc2Nob29scy9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fschools%2Froute&page=%2Fapi%2Fschools%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fschools%2Froute.ts&appDir=c%3A%5CUsers%5CTRAINER%201%5CDesktop%5CWEB%20DEVELOP%5CAUTOMATIC%20SCHOOL%20TIMETABLE%20MANAGEMENT%20SYSTEM%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=c%3A%5CUsers%5CTRAINER%201%5CDesktop%5CWEB%20DEVELOP%5CAUTOMATIC%20SCHOOL%20TIMETABLE%20MANAGEMENT%20SYSTEM&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/schools/route.ts":
/*!**************************************!*\
  !*** ./src/app/api/schools/route.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DELETE: () => (/* binding */ DELETE),\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   PATCH: () => (/* binding */ PATCH),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_db__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/db */ \"(rsc)/./src/lib/db.ts\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! bcryptjs */ \"(rsc)/./node_modules/bcryptjs/index.js\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(bcryptjs__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! zod */ \"(rsc)/./node_modules/zod/lib/index.mjs\");\n/* harmony import */ var _lib_create_school_time_slots__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/create-school-time-slots */ \"(rsc)/./src/lib/create-school-time-slots.ts\");\n\n\n\n\n\nconst schoolRegistrationSchema = zod__WEBPACK_IMPORTED_MODULE_4__.z.object({\n    schoolName: zod__WEBPACK_IMPORTED_MODULE_4__.z.string().min(2, \"School name must be at least 2 characters\"),\n    schoolType: zod__WEBPACK_IMPORTED_MODULE_4__.z.string().min(1, \"School type is required\"),\n    province: zod__WEBPACK_IMPORTED_MODULE_4__.z.string().min(1, \"Province is required\"),\n    district: zod__WEBPACK_IMPORTED_MODULE_4__.z.string().min(1, \"District is required\"),\n    sector: zod__WEBPACK_IMPORTED_MODULE_4__.z.string().min(1, \"Sector is required\"),\n    email: zod__WEBPACK_IMPORTED_MODULE_4__.z.string().email(\"Invalid email address\"),\n    phone: zod__WEBPACK_IMPORTED_MODULE_4__.z.string().optional(),\n    adminName: zod__WEBPACK_IMPORTED_MODULE_4__.z.string().min(2, \"Admin name must be at least 2 characters\"),\n    password: zod__WEBPACK_IMPORTED_MODULE_4__.z.string().min(8, \"Password must be at least 8 characters\")\n});\nasync function POST(request) {\n    try {\n        const body = await request.json();\n        const validatedData = schoolRegistrationSchema.parse(body);\n        // Check if school email already exists\n        const existingSchool = await _lib_db__WEBPACK_IMPORTED_MODULE_1__.db.school.findUnique({\n            where: {\n                email: validatedData.email\n            }\n        });\n        if (existingSchool) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"School with this email already exists\"\n            }, {\n                status: 400\n            });\n        }\n        // Check if admin email already exists\n        const existingUser = await _lib_db__WEBPACK_IMPORTED_MODULE_1__.db.user.findUnique({\n            where: {\n                email: validatedData.email\n            }\n        });\n        if (existingUser) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"User with this email already exists\"\n            }, {\n                status: 400\n            });\n        }\n        // Hash password\n        const hashedPassword = await bcryptjs__WEBPACK_IMPORTED_MODULE_2___default().hash(validatedData.password, 12);\n        // Create school and admin user and auto-setup time slots in a transaction\n        const result = await _lib_db__WEBPACK_IMPORTED_MODULE_1__.db.$transaction(async (tx)=>{\n            // Create school (approved status for super admin creation)\n            const school = await tx.school.create({\n                data: {\n                    name: validatedData.schoolName,\n                    type: validatedData.schoolType,\n                    province: validatedData.province,\n                    district: validatedData.district,\n                    sector: validatedData.sector,\n                    email: validatedData.email,\n                    phone: validatedData.phone,\n                    status: \"APPROVED\",\n                    approvedAt: new Date()\n                }\n            });\n            // Create admin user (active for super admin creation)\n            const admin = await tx.user.create({\n                data: {\n                    email: validatedData.email,\n                    name: validatedData.adminName,\n                    password: hashedPassword,\n                    role: \"SCHOOL_ADMIN\",\n                    schoolId: school.id,\n                    isActive: true // Admin is active for super admin created schools\n                }\n            });\n            // Automatically create time slots for the new school\n            const timeSlotResult = await (0,_lib_create_school_time_slots__WEBPACK_IMPORTED_MODULE_3__.createSchoolTimeSlots)(school.id);\n            if (!timeSlotResult.success) {\n                throw new Error(`Failed to create time slots: ${timeSlotResult.error}`);\n            }\n            return {\n                school,\n                admin,\n                timeSlotCount: timeSlotResult.count\n            };\n        });\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            message: \"School created successfully with automatic time slot setup. Your school is now ready to use!\",\n            schoolId: result.school.id,\n            timeSlotsCreated: result.timeSlotCount,\n            adminId: result.admin.id\n        }, {\n            status: 201\n        });\n    } catch (error) {\n        if (error instanceof zod__WEBPACK_IMPORTED_MODULE_4__.z.ZodError) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Validation failed\",\n                details: error.errors\n            }, {\n                status: 400\n            });\n        }\n        console.error(\"School registration error:\", error);\n        // Check if it's a time slot creation error\n        if (error instanceof Error && error.message.includes(\"Failed to create time slots\")) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"School created but failed to setup time slots. Please contact support.\",\n                details: error.message\n            }, {\n                status: 500\n            });\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Internal server error\",\n            details: error instanceof Error ? error.message : String(error)\n        }, {\n            status: 500\n        });\n    }\n}\nasync function PATCH(request) {\n    try {\n        const body = await request.json();\n        const { schoolId, status, name, address, province, district, sector, email, phone } = body;\n        if (!schoolId) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"School ID is required\"\n            }, {\n                status: 400\n            });\n        }\n        // Check if school exists\n        const existingSchool = await _lib_db__WEBPACK_IMPORTED_MODULE_1__.db.school.findUnique({\n            where: {\n                id: schoolId\n            }\n        });\n        if (!existingSchool) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"School not found\"\n            }, {\n                status: 404\n            });\n        }\n        // If status is being updated\n        if (status) {\n            const validStatuses = [\n                \"PENDING\",\n                \"APPROVED\",\n                \"REJECTED\",\n                \"INACTIVE\"\n            ];\n            if (!validStatuses.includes(status)) {\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    error: \"Invalid status\"\n                }, {\n                    status: 400\n                });\n            }\n            // Update school status\n            const updatedSchool = await _lib_db__WEBPACK_IMPORTED_MODULE_1__.db.school.update({\n                where: {\n                    id: schoolId\n                },\n                data: {\n                    status,\n                    approvedAt: status === \"APPROVED\" ? new Date() : null\n                }\n            });\n            // Also update the admin user's active status\n            await _lib_db__WEBPACK_IMPORTED_MODULE_1__.db.user.updateMany({\n                where: {\n                    schoolId\n                },\n                data: {\n                    isActive: status === \"APPROVED\"\n                }\n            });\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                message: \"School status updated successfully\",\n                school: updatedSchool\n            });\n        }\n        // If school information is being updated\n        const updateData = {};\n        if (name !== undefined) updateData.name = name;\n        if (address !== undefined) updateData.address = address;\n        if (province !== undefined) updateData.province = province;\n        if (district !== undefined) updateData.district = district;\n        if (sector !== undefined) updateData.sector = sector;\n        if (phone !== undefined) updateData.phone = phone;\n        // Handle email update with uniqueness check\n        if (email !== undefined && email !== existingSchool.email) {\n            const emailExists = await _lib_db__WEBPACK_IMPORTED_MODULE_1__.db.school.findUnique({\n                where: {\n                    email\n                }\n            });\n            if (emailExists) {\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    error: \"School with this email already exists\"\n                }, {\n                    status: 400\n                });\n            }\n            updateData.email = email;\n        }\n        // Update school information\n        const updatedSchool = await _lib_db__WEBPACK_IMPORTED_MODULE_1__.db.school.update({\n            where: {\n                id: schoolId\n            },\n            data: updateData\n        });\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            message: \"School information updated successfully\",\n            school: updatedSchool\n        });\n    } catch (error) {\n        console.error(\"School update error:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Internal server error\"\n        }, {\n            status: 500\n        });\n    }\n}\nasync function DELETE(request) {\n    try {\n        const body = await request.json();\n        const { schoolId } = body;\n        if (!schoolId) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"School ID is required\"\n            }, {\n                status: 400\n            });\n        }\n        // Check if school exists\n        const school = await _lib_db__WEBPACK_IMPORTED_MODULE_1__.db.school.findUnique({\n            where: {\n                id: schoolId\n            },\n            include: {\n                _count: {\n                    select: {\n                        users: true,\n                        classes: true,\n                        subjects: true,\n                        timetables: true\n                    }\n                }\n            }\n        });\n        if (!school) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"School not found\"\n            }, {\n                status: 404\n            });\n        }\n        // Delete the school (cascade will handle related records)\n        // Note: This will also delete all related users, classes, subjects, and timetables\n        await _lib_db__WEBPACK_IMPORTED_MODULE_1__.db.school.delete({\n            where: {\n                id: schoolId\n            }\n        });\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            message: \"School deleted successfully\",\n            schoolId\n        });\n    } catch (error) {\n        console.error(\"School deletion error:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Internal server error\"\n        }, {\n            status: 500\n        });\n    }\n}\nasync function GET(request) {\n    try {\n        const { searchParams } = new URL(request.url);\n        const status = searchParams.get(\"status\");\n        const type = searchParams.get(\"type\");\n        const schools = await _lib_db__WEBPACK_IMPORTED_MODULE_1__.db.school.findMany({\n            where: {\n                ...status && {\n                    status: status\n                },\n                ...type && {\n                    type: type\n                }\n            },\n            include: {\n                _count: {\n                    select: {\n                        users: true,\n                        classes: true,\n                        subjects: true,\n                        timetables: true\n                    }\n                }\n            },\n            orderBy: {\n                createdAt: \"desc\"\n            }\n        });\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(schools);\n    } catch (error) {\n        console.error(\"Schools fetch error:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Internal server error\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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bWV0YWJsZS1tYW5hZ2VtZW50Ly4vc3JjL2FwcC9hcGkvc2Nob29scy9yb3V0ZS50cz9mNjM4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcidcclxuaW1wb3J0IHsgZGIgfSBmcm9tICdAL2xpYi9kYidcclxuaW1wb3J0IGJjcnlwdCBmcm9tICdiY3J5cHRqcydcclxuaW1wb3J0IHsgeiB9IGZyb20gJ3pvZCdcclxuaW1wb3J0IHsgY3JlYXRlU2Nob29sVGltZVNsb3RzIH0gZnJvbSAnQC9saWIvY3JlYXRlLXNjaG9vbC10aW1lLXNsb3RzJ1xyXG5cclxuY29uc3Qgc2Nob29sUmVnaXN0cmF0aW9uU2NoZW1hID0gei5vYmplY3Qoe1xyXG4gICAgc2Nob29sTmFtZTogei5zdHJpbmcoKS5taW4oMiwgJ1NjaG9vbCBuYW1lIG11c3QgYmUgYXQgbGVhc3QgMiBjaGFyYWN0ZXJzJyksXHJcbiAgICBzY2hvb2xUeXBlOiB6LnN0cmluZygpLm1pbigxLCAnU2Nob29sIHR5cGUgaXMgcmVxdWlyZWQnKSxcclxuICAgIHByb3ZpbmNlOiB6LnN0cmluZygpLm1pbigxLCAnUHJvdmluY2UgaXMgcmVxdWlyZWQnKSwgICAgLy8gUHJvdmluY2Ugb3IgQ2l0eVxyXG4gICAgZGlzdHJpY3Q6IHouc3RyaW5nKCkubWluKDEsICdEaXN0cmljdCBpcyByZXF1aXJlZCcpLCAgICAvLyBEaXN0cmljdFxyXG4gICAgc2VjdG9yOiB6LnN0cmluZygpLm1pbigxLCAnU2VjdG9yIGlzIHJlcXVpcmVkJyksICAgICAgLy8gU2VjdG9yXHJcbiAgICBlbWFpbDogei5zdHJpbmcoKS5lbWFpbCgnSW52YWxpZCBlbWFpbCBhZGRyZXNzJyksXHJcbiAgICBwaG9uZTogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxyXG4gICAgYWRtaW5OYW1lOiB6LnN0cmluZygpLm1pbigyLCAnQWRtaW4gbmFtZSBtdXN0IGJlIGF0IGxlYXN0IDIgY2hhcmFjdGVycycpLFxyXG4gICAgcGFzc3dvcmQ6IHouc3RyaW5nKCkubWluKDgsICdQYXNzd29yZCBtdXN0IGJlIGF0IGxlYXN0IDggY2hhcmFjdGVycycpXHJcbn0pXHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBib2R5ID0gYXdhaXQgcmVxdWVzdC5qc29uKClcclxuICAgICAgICBjb25zdCB2YWxpZGF0ZWREYXRhID0gc2Nob29sUmVnaXN0cmF0aW9uU2NoZW1hLnBhcnNlKGJvZHkpXHJcblxyXG4gICAgICAgIC8vIENoZWNrIGlmIHNjaG9vbCBlbWFpbCBhbHJlYWR5IGV4aXN0c1xyXG4gICAgICAgIGNvbnN0IGV4aXN0aW5nU2Nob29sID0gYXdhaXQgZGIuc2Nob29sLmZpbmRVbmlxdWUoe1xyXG4gICAgICAgICAgICB3aGVyZTogeyBlbWFpbDogdmFsaWRhdGVkRGF0YS5lbWFpbCB9XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgaWYgKGV4aXN0aW5nU2Nob29sKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICAgICAgICAgIHsgZXJyb3I6ICdTY2hvb2wgd2l0aCB0aGlzIGVtYWlsIGFscmVhZHkgZXhpc3RzJyB9LFxyXG4gICAgICAgICAgICAgICAgeyBzdGF0dXM6IDQwMCB9XHJcbiAgICAgICAgICAgIClcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIENoZWNrIGlmIGFkbWluIGVtYWlsIGFscmVhZHkgZXhpc3RzXHJcbiAgICAgICAgY29uc3QgZXhpc3RpbmdVc2VyID0gYXdhaXQgZGIudXNlci5maW5kVW5pcXVlKHtcclxuICAgICAgICAgICAgd2hlcmU6IHsgZW1haWw6IHZhbGlkYXRlZERhdGEuZW1haWwgfVxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIGlmIChleGlzdGluZ1VzZXIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICAgICAgICAgICAgeyBlcnJvcjogJ1VzZXIgd2l0aCB0aGlzIGVtYWlsIGFscmVhZHkgZXhpc3RzJyB9LFxyXG4gICAgICAgICAgICAgICAgeyBzdGF0dXM6IDQwMCB9XHJcbiAgICAgICAgICAgIClcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEhhc2ggcGFzc3dvcmRcclxuICAgICAgICBjb25zdCBoYXNoZWRQYXNzd29yZCA9IGF3YWl0IGJjcnlwdC5oYXNoKHZhbGlkYXRlZERhdGEucGFzc3dvcmQsIDEyKVxyXG5cclxuICAgICAgICAvLyBDcmVhdGUgc2Nob29sIGFuZCBhZG1pbiB1c2VyIGFuZCBhdXRvLXNldHVwIHRpbWUgc2xvdHMgaW4gYSB0cmFuc2FjdGlvblxyXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGRiLiR0cmFuc2FjdGlvbihhc3luYyAodHg6IGFueSkgPT4ge1xyXG4gICAgICAgICAgICAvLyBDcmVhdGUgc2Nob29sIChhcHByb3ZlZCBzdGF0dXMgZm9yIHN1cGVyIGFkbWluIGNyZWF0aW9uKVxyXG4gICAgICAgICAgICBjb25zdCBzY2hvb2wgPSBhd2FpdCB0eC5zY2hvb2wuY3JlYXRlKHtcclxuICAgICAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgICAgICBuYW1lOiB2YWxpZGF0ZWREYXRhLnNjaG9vbE5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogdmFsaWRhdGVkRGF0YS5zY2hvb2xUeXBlIGFzIGFueSxcclxuICAgICAgICAgICAgICAgICAgICBwcm92aW5jZTogdmFsaWRhdGVkRGF0YS5wcm92aW5jZSxcclxuICAgICAgICAgICAgICAgICAgICBkaXN0cmljdDogdmFsaWRhdGVkRGF0YS5kaXN0cmljdCxcclxuICAgICAgICAgICAgICAgICAgICBzZWN0b3I6IHZhbGlkYXRlZERhdGEuc2VjdG9yLFxyXG4gICAgICAgICAgICAgICAgICAgIGVtYWlsOiB2YWxpZGF0ZWREYXRhLmVtYWlsLFxyXG4gICAgICAgICAgICAgICAgICAgIHBob25lOiB2YWxpZGF0ZWREYXRhLnBob25lLFxyXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czogXCJBUFBST1ZFRFwiLCAvLyBTY2hvb2xzIGNyZWF0ZWQgYnkgc3VwZXIgYWRtaW4gYXJlIGF1dG9tYXRpY2FsbHkgYXBwcm92ZWRcclxuICAgICAgICAgICAgICAgICAgICBhcHByb3ZlZEF0OiBuZXcgRGF0ZSgpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAvLyBDcmVhdGUgYWRtaW4gdXNlciAoYWN0aXZlIGZvciBzdXBlciBhZG1pbiBjcmVhdGlvbilcclxuICAgICAgICAgICAgY29uc3QgYWRtaW4gPSBhd2FpdCB0eC51c2VyLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZW1haWw6IHZhbGlkYXRlZERhdGEuZW1haWwsXHJcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogdmFsaWRhdGVkRGF0YS5hZG1pbk5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgcGFzc3dvcmQ6IGhhc2hlZFBhc3N3b3JkLFxyXG4gICAgICAgICAgICAgICAgICAgIHJvbGU6IFwiU0NIT09MX0FETUlOXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgc2Nob29sSWQ6IHNjaG9vbC5pZCxcclxuICAgICAgICAgICAgICAgICAgICBpc0FjdGl2ZTogdHJ1ZSAvLyBBZG1pbiBpcyBhY3RpdmUgZm9yIHN1cGVyIGFkbWluIGNyZWF0ZWQgc2Nob29sc1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgLy8gQXV0b21hdGljYWxseSBjcmVhdGUgdGltZSBzbG90cyBmb3IgdGhlIG5ldyBzY2hvb2xcclxuICAgICAgICAgICAgY29uc3QgdGltZVNsb3RSZXN1bHQgPSBhd2FpdCBjcmVhdGVTY2hvb2xUaW1lU2xvdHMoc2Nob29sLmlkKVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgaWYgKCF0aW1lU2xvdFJlc3VsdC5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBjcmVhdGUgdGltZSBzbG90czogJHt0aW1lU2xvdFJlc3VsdC5lcnJvcn1gKVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4geyBzY2hvb2wsIGFkbWluLCB0aW1lU2xvdENvdW50OiB0aW1lU2xvdFJlc3VsdC5jb3VudCB9XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcclxuICAgICAgICAgICAgbWVzc2FnZTogJ1NjaG9vbCBjcmVhdGVkIHN1Y2Nlc3NmdWxseSB3aXRoIGF1dG9tYXRpYyB0aW1lIHNsb3Qgc2V0dXAuIFlvdXIgc2Nob29sIGlzIG5vdyByZWFkeSB0byB1c2UhJyxcclxuICAgICAgICAgICAgc2Nob29sSWQ6IHJlc3VsdC5zY2hvb2wuaWQsXHJcbiAgICAgICAgICAgIHRpbWVTbG90c0NyZWF0ZWQ6IHJlc3VsdC50aW1lU2xvdENvdW50LFxyXG4gICAgICAgICAgICBhZG1pbklkOiByZXN1bHQuYWRtaW4uaWRcclxuICAgICAgICB9LCB7IHN0YXR1czogMjAxIH0pXHJcblxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiB6LlpvZEVycm9yKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICAgICAgICAgIHsgZXJyb3I6ICdWYWxpZGF0aW9uIGZhaWxlZCcsIGRldGFpbHM6IGVycm9yLmVycm9ycyB9LFxyXG4gICAgICAgICAgICAgICAgeyBzdGF0dXM6IDQwMCB9XHJcbiAgICAgICAgICAgIClcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1NjaG9vbCByZWdpc3RyYXRpb24gZXJyb3I6JywgZXJyb3IpXHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gQ2hlY2sgaWYgaXQncyBhIHRpbWUgc2xvdCBjcmVhdGlvbiBlcnJvclxyXG4gICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yICYmIGVycm9yLm1lc3NhZ2UuaW5jbHVkZXMoJ0ZhaWxlZCB0byBjcmVhdGUgdGltZSBzbG90cycpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICAgICAgICAgIHsgZXJyb3I6ICdTY2hvb2wgY3JlYXRlZCBidXQgZmFpbGVkIHRvIHNldHVwIHRpbWUgc2xvdHMuIFBsZWFzZSBjb250YWN0IHN1cHBvcnQuJywgZGV0YWlsczogZXJyb3IubWVzc2FnZSB9LFxyXG4gICAgICAgICAgICAgICAgeyBzdGF0dXM6IDUwMCB9XHJcbiAgICAgICAgICAgIClcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICAgICAgeyBlcnJvcjogJ0ludGVybmFsIHNlcnZlciBlcnJvcicsIGRldGFpbHM6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKSB9LFxyXG4gICAgICAgICAgICB7IHN0YXR1czogNTAwIH1cclxuICAgICAgICApXHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQQVRDSChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBib2R5ID0gYXdhaXQgcmVxdWVzdC5qc29uKClcclxuICAgICAgICBjb25zdCB7IHNjaG9vbElkLCBzdGF0dXMsIG5hbWUsIGFkZHJlc3MsIHByb3ZpbmNlLCBkaXN0cmljdCwgc2VjdG9yLCBlbWFpbCwgcGhvbmUgfSA9IGJvZHlcclxuXHJcbiAgICAgICAgaWYgKCFzY2hvb2xJZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgICAgICAgICAgICB7IGVycm9yOiAnU2Nob29sIElEIGlzIHJlcXVpcmVkJyB9LFxyXG4gICAgICAgICAgICAgICAgeyBzdGF0dXM6IDQwMCB9XHJcbiAgICAgICAgICAgIClcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIENoZWNrIGlmIHNjaG9vbCBleGlzdHNcclxuICAgICAgICBjb25zdCBleGlzdGluZ1NjaG9vbCA9IGF3YWl0IGRiLnNjaG9vbC5maW5kVW5pcXVlKHtcclxuICAgICAgICAgICAgd2hlcmU6IHsgaWQ6IHNjaG9vbElkIH1cclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICBpZiAoIWV4aXN0aW5nU2Nob29sKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICAgICAgICAgIHsgZXJyb3I6ICdTY2hvb2wgbm90IGZvdW5kJyB9LFxyXG4gICAgICAgICAgICAgICAgeyBzdGF0dXM6IDQwNCB9XHJcbiAgICAgICAgICAgIClcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIElmIHN0YXR1cyBpcyBiZWluZyB1cGRhdGVkXHJcbiAgICAgICAgaWYgKHN0YXR1cykge1xyXG4gICAgICAgICAgICBjb25zdCB2YWxpZFN0YXR1c2VzID0gWydQRU5ESU5HJywgJ0FQUFJPVkVEJywgJ1JFSkVDVEVEJywgJ0lOQUNUSVZFJ11cclxuICAgICAgICAgICAgaWYgKCF2YWxpZFN0YXR1c2VzLmluY2x1ZGVzKHN0YXR1cykpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICAgICAgICAgICAgICB7IGVycm9yOiAnSW52YWxpZCBzdGF0dXMnIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBzdGF0dXM6IDQwMCB9XHJcbiAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIFVwZGF0ZSBzY2hvb2wgc3RhdHVzXHJcbiAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWRTY2hvb2wgPSBhd2FpdCBkYi5zY2hvb2wudXBkYXRlKHtcclxuICAgICAgICAgICAgICAgIHdoZXJlOiB7IGlkOiBzY2hvb2xJZCB9LFxyXG4gICAgICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cyxcclxuICAgICAgICAgICAgICAgICAgICBhcHByb3ZlZEF0OiBzdGF0dXMgPT09ICdBUFBST1ZFRCcgPyBuZXcgRGF0ZSgpIDogbnVsbFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgLy8gQWxzbyB1cGRhdGUgdGhlIGFkbWluIHVzZXIncyBhY3RpdmUgc3RhdHVzXHJcbiAgICAgICAgICAgIGF3YWl0IGRiLnVzZXIudXBkYXRlTWFueSh7XHJcbiAgICAgICAgICAgICAgICB3aGVyZTogeyBzY2hvb2xJZCB9LFxyXG4gICAgICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgICAgIGlzQWN0aXZlOiBzdGF0dXMgPT09ICdBUFBST1ZFRCdcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAnU2Nob29sIHN0YXR1cyB1cGRhdGVkIHN1Y2Nlc3NmdWxseScsXHJcbiAgICAgICAgICAgICAgICBzY2hvb2w6IHVwZGF0ZWRTY2hvb2xcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIElmIHNjaG9vbCBpbmZvcm1hdGlvbiBpcyBiZWluZyB1cGRhdGVkXHJcbiAgICAgICAgY29uc3QgdXBkYXRlRGF0YTogYW55ID0ge31cclxuICAgICAgICBcclxuICAgICAgICBpZiAobmFtZSAhPT0gdW5kZWZpbmVkKSB1cGRhdGVEYXRhLm5hbWUgPSBuYW1lXHJcbiAgICAgICAgaWYgKGFkZHJlc3MgIT09IHVuZGVmaW5lZCkgdXBkYXRlRGF0YS5hZGRyZXNzID0gYWRkcmVzc1xyXG4gICAgICAgIGlmIChwcm92aW5jZSAhPT0gdW5kZWZpbmVkKSB1cGRhdGVEYXRhLnByb3ZpbmNlID0gcHJvdmluY2VcclxuICAgICAgICBpZiAoZGlzdHJpY3QgIT09IHVuZGVmaW5lZCkgdXBkYXRlRGF0YS5kaXN0cmljdCA9IGRpc3RyaWN0XHJcbiAgICAgICAgaWYgKHNlY3RvciAhPT0gdW5kZWZpbmVkKSB1cGRhdGVEYXRhLnNlY3RvciA9IHNlY3RvclxyXG4gICAgICAgIGlmIChwaG9uZSAhPT0gdW5kZWZpbmVkKSB1cGRhdGVEYXRhLnBob25lID0gcGhvbmVcclxuICAgICAgICBcclxuICAgICAgICAvLyBIYW5kbGUgZW1haWwgdXBkYXRlIHdpdGggdW5pcXVlbmVzcyBjaGVja1xyXG4gICAgICAgIGlmIChlbWFpbCAhPT0gdW5kZWZpbmVkICYmIGVtYWlsICE9PSBleGlzdGluZ1NjaG9vbC5lbWFpbCkge1xyXG4gICAgICAgICAgICBjb25zdCBlbWFpbEV4aXN0cyA9IGF3YWl0IGRiLnNjaG9vbC5maW5kVW5pcXVlKHtcclxuICAgICAgICAgICAgICAgIHdoZXJlOiB7IGVtYWlsIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGlmIChlbWFpbEV4aXN0cykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICAgICAgICAgICAgICAgIHsgZXJyb3I6ICdTY2hvb2wgd2l0aCB0aGlzIGVtYWlsIGFscmVhZHkgZXhpc3RzJyB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgc3RhdHVzOiA0MDAgfVxyXG4gICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB1cGRhdGVEYXRhLmVtYWlsID0gZW1haWxcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFVwZGF0ZSBzY2hvb2wgaW5mb3JtYXRpb25cclxuICAgICAgICBjb25zdCB1cGRhdGVkU2Nob29sID0gYXdhaXQgZGIuc2Nob29sLnVwZGF0ZSh7XHJcbiAgICAgICAgICAgIHdoZXJlOiB7IGlkOiBzY2hvb2xJZCB9LFxyXG4gICAgICAgICAgICBkYXRhOiB1cGRhdGVEYXRhXHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcclxuICAgICAgICAgICAgbWVzc2FnZTogJ1NjaG9vbCBpbmZvcm1hdGlvbiB1cGRhdGVkIHN1Y2Nlc3NmdWxseScsXHJcbiAgICAgICAgICAgIHNjaG9vbDogdXBkYXRlZFNjaG9vbFxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdTY2hvb2wgdXBkYXRlIGVycm9yOicsIGVycm9yKVxyXG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICAgICAgeyBlcnJvcjogJ0ludGVybmFsIHNlcnZlciBlcnJvcicgfSxcclxuICAgICAgICAgICAgeyBzdGF0dXM6IDUwMCB9XHJcbiAgICAgICAgKVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gREVMRVRFKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IGJvZHkgPSBhd2FpdCByZXF1ZXN0Lmpzb24oKVxyXG4gICAgICAgIGNvbnN0IHsgc2Nob29sSWQgfSA9IGJvZHlcclxuXHJcbiAgICAgICAgaWYgKCFzY2hvb2xJZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgICAgICAgICAgICB7IGVycm9yOiAnU2Nob29sIElEIGlzIHJlcXVpcmVkJyB9LFxyXG4gICAgICAgICAgICAgICAgeyBzdGF0dXM6IDQwMCB9XHJcbiAgICAgICAgICAgIClcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIENoZWNrIGlmIHNjaG9vbCBleGlzdHNcclxuICAgICAgICBjb25zdCBzY2hvb2wgPSBhd2FpdCBkYi5zY2hvb2wuZmluZFVuaXF1ZSh7XHJcbiAgICAgICAgICAgIHdoZXJlOiB7IGlkOiBzY2hvb2xJZCB9LFxyXG4gICAgICAgICAgICBpbmNsdWRlOiB7XHJcbiAgICAgICAgICAgICAgICBfY291bnQ6IHtcclxuICAgICAgICAgICAgICAgICAgICBzZWxlY3Q6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXNlcnM6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzZXM6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YmplY3RzOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aW1ldGFibGVzOiB0cnVlXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgaWYgKCFzY2hvb2wpIHtcclxuICAgICAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICAgICAgICAgICAgeyBlcnJvcjogJ1NjaG9vbCBub3QgZm91bmQnIH0sXHJcbiAgICAgICAgICAgICAgICB7IHN0YXR1czogNDA0IH1cclxuICAgICAgICAgICAgKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gRGVsZXRlIHRoZSBzY2hvb2wgKGNhc2NhZGUgd2lsbCBoYW5kbGUgcmVsYXRlZCByZWNvcmRzKVxyXG4gICAgICAgIC8vIE5vdGU6IFRoaXMgd2lsbCBhbHNvIGRlbGV0ZSBhbGwgcmVsYXRlZCB1c2VycywgY2xhc3Nlcywgc3ViamVjdHMsIGFuZCB0aW1ldGFibGVzXHJcbiAgICAgICAgYXdhaXQgZGIuc2Nob29sLmRlbGV0ZSh7XHJcbiAgICAgICAgICAgIHdoZXJlOiB7IGlkOiBzY2hvb2xJZCB9XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcclxuICAgICAgICAgICAgbWVzc2FnZTogJ1NjaG9vbCBkZWxldGVkIHN1Y2Nlc3NmdWxseScsXHJcbiAgICAgICAgICAgIHNjaG9vbElkXHJcbiAgICAgICAgfSlcclxuXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1NjaG9vbCBkZWxldGlvbiBlcnJvcjonLCBlcnJvcilcclxuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgICAgICAgIHsgZXJyb3I6ICdJbnRlcm5hbCBzZXJ2ZXIgZXJyb3InIH0sXHJcbiAgICAgICAgICAgIHsgc3RhdHVzOiA1MDAgfVxyXG4gICAgICAgIClcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCB7IHNlYXJjaFBhcmFtcyB9ID0gbmV3IFVSTChyZXF1ZXN0LnVybClcclxuICAgICAgICBjb25zdCBzdGF0dXMgPSBzZWFyY2hQYXJhbXMuZ2V0KCdzdGF0dXMnKVxyXG4gICAgICAgIGNvbnN0IHR5cGUgPSBzZWFyY2hQYXJhbXMuZ2V0KCd0eXBlJylcclxuXHJcbiAgICAgICAgY29uc3Qgc2Nob29scyA9IGF3YWl0IGRiLnNjaG9vbC5maW5kTWFueSh7XHJcbiAgICAgICAgICAgIHdoZXJlOiB7XHJcbiAgICAgICAgICAgICAgICAuLi4oc3RhdHVzICYmIHsgc3RhdHVzOiBzdGF0dXMgYXMgYW55IH0pLFxyXG4gICAgICAgICAgICAgICAgLi4uKHR5cGUgJiYgeyB0eXBlOiB0eXBlIGFzIGFueSB9KVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBpbmNsdWRlOiB7XHJcbiAgICAgICAgICAgICAgICBfY291bnQ6IHtcclxuICAgICAgICAgICAgICAgICAgICBzZWxlY3Q6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXNlcnM6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzZXM6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YmplY3RzOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aW1ldGFibGVzOiB0cnVlXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBvcmRlckJ5OiB7XHJcbiAgICAgICAgICAgICAgICBjcmVhdGVkQXQ6ICdkZXNjJ1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHNjaG9vbHMpXHJcblxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdTY2hvb2xzIGZldGNoIGVycm9yOicsIGVycm9yKVxyXG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICAgICAgeyBlcnJvcjogJ0ludGVybmFsIHNlcnZlciBlcnJvcicgfSxcclxuICAgICAgICAgICAgeyBzdGF0dXM6IDUwMCB9XHJcbiAgICAgICAgKVxyXG4gICAgfVxyXG59Il0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsImRiIiwiYmNyeXB0IiwieiIsImNyZWF0ZVNjaG9vbFRpbWVTbG90cyIsInNjaG9vbFJlZ2lzdHJhdGlvblNjaGVtYSIsIm9iamVjdCIsInNjaG9vbE5hbWUiLCJzdHJpbmciLCJtaW4iLCJzY2hvb2xUeXBlIiwicHJvdmluY2UiLCJkaXN0cmljdCIsInNlY3RvciIsImVtYWlsIiwicGhvbmUiLCJvcHRpb25hbCIsImFkbWluTmFtZSIsInBhc3N3b3JkIiwiUE9TVCIsInJlcXVlc3QiLCJib2R5IiwianNvbiIsInZhbGlkYXRlZERhdGEiLCJwYXJzZSIsImV4aXN0aW5nU2Nob29sIiwic2Nob29sIiwiZmluZFVuaXF1ZSIsIndoZXJlIiwiZXJyb3IiLCJzdGF0dXMiLCJleGlzdGluZ1VzZXIiLCJ1c2VyIiwiaGFzaGVkUGFzc3dvcmQiLCJoYXNoIiwicmVzdWx0IiwiJHRyYW5zYWN0aW9uIiwidHgiLCJjcmVhdGUiLCJkYXRhIiwibmFtZSIsInR5cGUiLCJhcHByb3ZlZEF0IiwiRGF0ZSIsImFkbWluIiwicm9sZSIsInNjaG9vbElkIiwiaWQiLCJpc0FjdGl2ZSIsInRpbWVTbG90UmVzdWx0Iiwic3VjY2VzcyIsIkVycm9yIiwidGltZVNsb3RDb3VudCIsImNvdW50IiwibWVzc2FnZSIsInRpbWVTbG90c0NyZWF0ZWQiLCJhZG1pbklkIiwiWm9kRXJyb3IiLCJkZXRhaWxzIiwiZXJyb3JzIiwiY29uc29sZSIsImluY2x1ZGVzIiwiU3RyaW5nIiwiUEFUQ0giLCJhZGRyZXNzIiwidmFsaWRTdGF0dXNlcyIsInVwZGF0ZWRTY2hvb2wiLCJ1cGRhdGUiLCJ1cGRhdGVNYW55IiwidXBkYXRlRGF0YSIsInVuZGVmaW5lZCIsImVtYWlsRXhpc3RzIiwiREVMRVRFIiwiaW5jbHVkZSIsIl9jb3VudCIsInNlbGVjdCIsInVzZXJzIiwiY2xhc3NlcyIsInN1YmplY3RzIiwidGltZXRhYmxlcyIsImRlbGV0ZSIsIkdFVCIsInNlYXJjaFBhcmFtcyIsIlVSTCIsInVybCIsImdldCIsInNjaG9vbHMiLCJmaW5kTWFueSIsIm9yZGVyQnkiLCJjcmVhdGVkQXQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/schools/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/create-school-time-slots.ts":
/*!*********************************************!*\
  !*** ./src/lib/create-school-time-slots.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createSchoolTimeSlots: () => (/* binding */ createSchoolTimeSlots)\n/* harmony export */ });\n/* harmony import */ var _lib_db__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/db */ \"(rsc)/./src/lib/db.ts\");\n\n/**\r\n * Create time slots for a school with periods P1-P10 (08:00-16:50)\r\n *\r\n * ASSEMBLY:\r\n * - School Assembly: 07:45  08:00\r\n *\r\n * MORNING:\r\n * - Period 1: 08:00  08:40\r\n * - Period 2: 08:40  09:20\r\n * - Period 3: 09:20  10:00\r\n *\r\n * --- MORNING BREAK (10:00  10:20) ---\r\n *\r\n * - Period 4: 10:20  11:00\r\n * - Period 5: 11:00  11:40\r\n *\r\n * --- LUNCH BREAK (11:40  13:10) ---\r\n *\r\n * AFTERNOON:\r\n * - Period 6: 13:10  13:50\r\n * - Period 7: 13:50  14:30\r\n * - Period 8: 14:30  15:10\r\n *\r\n * --- AFTERNOON BREAK (15:10  15:30) ---\r\n *\r\n * - Period 9: 15:30  16:10\r\n * - Period 10: 16:10  16:50\r\n *\r\n * CORE TIME RULE: All lessons MUST be scheduled strictly within 08:00-16:50\r\n */ async function createSchoolTimeSlots(schoolId) {\n    console.log(`Creating time slots for school: ${schoolId}`);\n    // First, deactivate existing time slots for this school\n    await _lib_db__WEBPACK_IMPORTED_MODULE_0__.db.timeSlot.updateMany({\n        where: {\n            schoolId\n        },\n        data: {\n            isActive: false\n        }\n    });\n    const daysOfWeek = [\n        \"MONDAY\",\n        \"TUESDAY\",\n        \"WEDNESDAY\",\n        \"THURSDAY\",\n        \"FRIDAY\"\n    ];\n    const timeSlots = [];\n    // Create time slots for each day\n    for (const day of daysOfWeek){\n        // School Assembly: 07:45  08:00\n        timeSlots.push({\n            schoolId,\n            day,\n            period: 0,\n            name: \"School Assembly\",\n            startTime: new Date(\"1970-01-01T07:45:00\"),\n            endTime: new Date(\"1970-01-01T08:00:00\"),\n            session: \"ASSEMBLY\",\n            isBreak: true,\n            breakType: \"ASSEMBLY\",\n            isActive: true\n        }, // Period 1: 08:00  08:40\n        {\n            schoolId,\n            day,\n            period: 1,\n            name: \"Period 1\",\n            startTime: new Date(\"1970-01-01T08:00:00\"),\n            endTime: new Date(\"1970-01-01T08:40:00\"),\n            session: \"MORNING\",\n            isActive: true\n        }, // Period 2: 08:40  09:20\n        {\n            schoolId,\n            day,\n            period: 2,\n            name: \"Period 2\",\n            startTime: new Date(\"1970-01-01T08:40:00\"),\n            endTime: new Date(\"1970-01-01T09:20:00\"),\n            session: \"MORNING\",\n            isActive: true\n        }, // Period 3: 09:20  10:00\n        {\n            schoolId,\n            day,\n            period: 3,\n            name: \"Period 3\",\n            startTime: new Date(\"1970-01-01T09:20:00\"),\n            endTime: new Date(\"1970-01-01T10:00:00\"),\n            session: \"MORNING\",\n            isActive: true\n        }, // Morning Break: 10:00  10:20\n        {\n            schoolId,\n            day,\n            period: 0,\n            name: \"Morning Break\",\n            startTime: new Date(\"1970-01-01T10:00:00\"),\n            endTime: new Date(\"1970-01-01T10:20:00\"),\n            session: \"BREAK\",\n            isBreak: true,\n            breakType: \"MORNING\",\n            isActive: true\n        }, // Period 4: 10:20  11:00\n        {\n            schoolId,\n            day,\n            period: 4,\n            name: \"Period 4\",\n            startTime: new Date(\"1970-01-01T10:20:00\"),\n            endTime: new Date(\"1970-01-01T11:00:00\"),\n            session: \"MORNING\",\n            isActive: true\n        }, // Period 5: 11:00  11:40\n        {\n            schoolId,\n            day,\n            period: 5,\n            name: \"Period 5\",\n            startTime: new Date(\"1970-01-01T11:00:00\"),\n            endTime: new Date(\"1970-01-01T11:40:00\"),\n            session: \"MORNING\",\n            isActive: true\n        }, // Lunch Break: 11:40  13:10\n        {\n            schoolId,\n            day,\n            period: 0,\n            name: \"Lunch Break\",\n            startTime: new Date(\"1970-01-01T11:40:00\"),\n            endTime: new Date(\"1970-01-01T13:10:00\"),\n            session: \"BREAK\",\n            isBreak: true,\n            breakType: \"LUNCH\",\n            isActive: true\n        }, // Period 6: 13:10  13:50\n        {\n            schoolId,\n            day,\n            period: 6,\n            name: \"Period 6\",\n            startTime: new Date(\"1970-01-01T13:10:00\"),\n            endTime: new Date(\"1970-01-01T13:50:00\"),\n            session: \"AFTERNOON\",\n            isActive: true\n        }, // Period 7: 13:50  14:30\n        {\n            schoolId,\n            day,\n            period: 7,\n            name: \"Period 7\",\n            startTime: new Date(\"1970-01-01T13:50:00\"),\n            endTime: new Date(\"1970-01-01T14:30:00\"),\n            session: \"AFTERNOON\",\n            isActive: true\n        }, // Period 8: 14:30  15:10\n        {\n            schoolId,\n            day,\n            period: 8,\n            name: \"Period 8\",\n            startTime: new Date(\"1970-01-01T14:30:00\"),\n            endTime: new Date(\"1970-01-01T15:10:00\"),\n            session: \"AFTERNOON\",\n            isActive: true\n        }, // Afternoon Break: 15:10  15:30\n        {\n            schoolId,\n            day,\n            period: 0,\n            name: \"Afternoon Break\",\n            startTime: new Date(\"1970-01-01T15:10:00\"),\n            endTime: new Date(\"1970-01-01T15:30:00\"),\n            session: \"BREAK\",\n            isBreak: true,\n            breakType: \"AFTERNOON\",\n            isActive: true\n        }, // Period 9: 15:30  16:10\n        {\n            schoolId,\n            day,\n            period: 9,\n            name: \"Period 9\",\n            startTime: new Date(\"1970-01-01T15:30:00\"),\n            endTime: new Date(\"1970-01-01T16:10:00\"),\n            session: \"AFTERNOON\",\n            isActive: true\n        }, // Period 10: 16:10  16:50\n        {\n            schoolId,\n            day,\n            period: 10,\n            name: \"Period 10\",\n            startTime: new Date(\"1970-01-01T16:10:00\"),\n            endTime: new Date(\"1970-01-01T16:50:00\"),\n            session: \"AFTERNOON\",\n            isActive: true\n        }, // Period 11: 16:50  17:30\n        {\n            schoolId,\n            day,\n            period: 11,\n            name: \"Period 11\",\n            startTime: new Date(\"1970-01-01T16:50:00\"),\n            endTime: new Date(\"1970-01-01T17:30:00\"),\n            session: \"EVENING\",\n            isActive: true\n        }, // Period 12: 17:30  18:10\n        {\n            schoolId,\n            day,\n            period: 12,\n            name: \"Period 12\",\n            startTime: new Date(\"1970-01-01T17:30:00\"),\n            endTime: new Date(\"1970-01-01T18:10:00\"),\n            session: \"EVENING\",\n            isActive: true\n        }, // Period 13: 18:10  18:50\n        {\n            schoolId,\n            day,\n            period: 13,\n            name: \"Period 13\",\n            startTime: new Date(\"1970-01-01T18:10:00\"),\n            endTime: new Date(\"1970-01-01T18:50:00\"),\n            session: \"EVENING\",\n            isActive: true\n        });\n    }\n    // Bulk create all time slots\n    try {\n        const createdSlots = await _lib_db__WEBPACK_IMPORTED_MODULE_0__.db.timeSlot.createMany({\n            data: timeSlots\n        });\n        console.log(` Created ${createdSlots.count} time slots for school ${schoolId}`);\n        // Verify the creation\n        const totalSlots = await _lib_db__WEBPACK_IMPORTED_MODULE_0__.db.timeSlot.count({\n            where: {\n                schoolId,\n                isActive: true\n            }\n        });\n        console.log(` Total active time slots: ${totalSlots}`);\n        return {\n            success: true,\n            count: createdSlots.count\n        };\n    } catch (error) {\n        console.error(\" Error creating time slots:\", error);\n        return {\n            success: false,\n            error: error instanceof Error ? error.message : String(error)\n        };\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL2NyZWF0ZS1zY2hvb2wtdGltZS1zbG90cy50cyIsIm1hcHBpbmdzIjoiOzs7OztBQUE2QjtBQUU3Qjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Q0E2QkMsR0FFTSxlQUFlQyxzQkFBc0JDLFFBQWdCO0lBQzFEQyxRQUFRQyxHQUFHLENBQUMsQ0FBQyxnQ0FBZ0MsRUFBRUYsU0FBUyxDQUFDO0lBRXpELHdEQUF3RDtJQUN4RCxNQUFNRix1Q0FBRUEsQ0FBQ0ssUUFBUSxDQUFDQyxVQUFVLENBQUM7UUFDM0JDLE9BQU87WUFBRUw7UUFBUztRQUNsQk0sTUFBTTtZQUFFQyxVQUFVO1FBQU07SUFDMUI7SUFFQSxNQUFNQyxhQUFhO1FBQUM7UUFBVTtRQUFXO1FBQWE7UUFBWTtLQUFTO0lBQzNFLE1BQU1DLFlBQVksRUFBRTtJQUVwQixpQ0FBaUM7SUFDakMsS0FBSyxNQUFNQyxPQUFPRixXQUFZO1FBQzVCLGlDQUFpQztRQUNqQ0MsVUFBVUUsSUFBSSxDQUNaO1lBQ0VYO1lBQ0FVO1lBQ0FFLFFBQVE7WUFDUkMsTUFBTTtZQUNOQyxXQUFXLElBQUlDLEtBQUs7WUFDcEJDLFNBQVMsSUFBSUQsS0FBSztZQUNsQkUsU0FBUztZQUNUQyxTQUFTO1lBQ1RDLFdBQVc7WUFDWFosVUFBVTtRQUNaLEdBQ0EsMEJBQTBCO1FBQzFCO1lBQ0VQO1lBQ0FVO1lBQ0FFLFFBQVE7WUFDUkMsTUFBTTtZQUNOQyxXQUFXLElBQUlDLEtBQUs7WUFDcEJDLFNBQVMsSUFBSUQsS0FBSztZQUNsQkUsU0FBUztZQUNUVixVQUFVO1FBQ1osR0FDQSwwQkFBMEI7UUFDMUI7WUFDRVA7WUFDQVU7WUFDQUUsUUFBUTtZQUNSQyxNQUFNO1lBQ05DLFdBQVcsSUFBSUMsS0FBSztZQUNwQkMsU0FBUyxJQUFJRCxLQUFLO1lBQ2xCRSxTQUFTO1lBQ1RWLFVBQVU7UUFDWixHQUNBLDBCQUEwQjtRQUMxQjtZQUNFUDtZQUNBVTtZQUNBRSxRQUFRO1lBQ1JDLE1BQU07WUFD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ZUFBZSxNQUFNdEIsdUNBQUVBLENBQUNLLFFBQVEsQ0FBQ2tCLFVBQVUsQ0FBQztZQUNoRGYsTUFBTUc7UUFDUjtRQUVBUixRQUFRQyxHQUFHLENBQUMsQ0FBQyxVQUFVLEVBQUVrQixhQUFhRSxLQUFLLENBQUMsdUJBQXVCLEVBQUV0QixTQUFTLENBQUM7UUFFL0Usc0JBQXNCO1FBQ3RCLE1BQU11QixhQUFhLE1BQU16Qix1Q0FBRUEsQ0FBQ0ssUUFBUSxDQUFDbUIsS0FBSyxDQUFDO1lBQ3pDakIsT0FBTztnQkFBRUw7Z0JBQVVPLFVBQVU7WUFBSztRQUNwQztRQUVBTixRQUFRQyxHQUFHLENBQUMsQ0FBQyw0QkFBNEIsRUFBRXFCLFdBQVcsQ0FBQztRQUV2RCxPQUFPO1lBQUVDLFNBQVM7WUFBTUYsT0FBT0YsYUFBYUUsS0FBSztRQUFDO0lBQ3BELEVBQUUsT0FBT0csT0FBTztRQUNkeEIsUUFBUXdCLEtBQUssQ0FBQyxnQ0FBZ0NBO1FBQzlDLE9BQU87WUFBRUQsU0FBUztZQUFPQyxPQUFPQSxpQkFBaUJDLFFBQVFELE1BQU1FLE9BQU8sR0FBR0MsT0FBT0g7UUFBTztJQUN6RjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2Nob29sLXRpbWV0YWJsZS1tYW5hZ2VtZW50Ly4vc3JjL2xpYi9jcmVhdGUtc2Nob29sLXRpbWUtc2xvdHMudHM/NTdmNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBkYiB9IGZyb20gJ0AvbGliL2RiJ1xyXG5cclxuLyoqXHJcbiAqIENyZWF0ZSB0aW1lIHNsb3RzIGZvciBhIHNjaG9vbCB3aXRoIHBlcmlvZHMgUDEtUDEwICgwODowMC0xNjo1MClcclxuICpcclxuICogQVNTRU1CTFk6XHJcbiAqIC0gU2Nob29sIEFzc2VtYmx5OiAwNzo0NSDigJMgMDg6MDBcclxuICpcclxuICogTU9STklORzpcclxuICogLSBQZXJpb2QgMTogMDg6MDAg4oCTIDA4OjQwXHJcbiAqIC0gUGVyaW9kIDI6IDA4OjQwIOKAkyAwOToyMFxyXG4gKiAtIFBlcmlvZCAzOiAwOToyMCDigJMgMTA6MDBcclxuICpcclxuICogLS0tIE1PUk5JTkcgQlJFQUsgKDEwOjAwIOKAkyAxMDoyMCkgLS0tXHJcbiAqXHJcbiAqIC0gUGVyaW9kIDQ6IDEwOjIwIOKAkyAxMTowMFxyXG4gKiAtIFBlcmlvZCA1OiAxMTowMCDigJMgMTE6NDBcclxuICpcclxuICogLS0tIExVTkNIIEJSRUFLICgxMTo0MCDigJMgMTM6MTApIC0tLVxyXG4gKlxyXG4gKiBBRlRFUk5PT046XHJcbiAqIC0gUGVyaW9kIDY6IDEzOjEwIOKAkyAxMzo1MFxyXG4gKiAtIFBlcmlvZCA3OiAxMzo1MCDigJMgMTQ6MzBcclxuICogLSBQZXJpb2QgODogMTQ6MzAg4oCTIDE1OjEwXHJcbiAqXHJcbiAqIC0tLSBBRlRFUk5PT04gQlJFQUsgKDE1OjEwIOKAkyAxNTozMCkgLS0tXHJcbiAqXHJcbiAqIC0gUGVyaW9kIDk6IDE1OjMwIOKAkyAxNjoxMFxyXG4gKiAtIFBlcmlvZCAxMDogMTY6MTAg4oCTIDE2OjUwXHJcbiAqXHJcbiAqIENPUkUgVElNRSBSVUxFOiBBbGwgbGVzc29ucyBNVVNUIGJlIHNjaGVkdWxlZCBzdHJpY3RseSB3aXRoaW4gMDg6MDAtMTY6NTBcclxuICovXHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlU2Nob29sVGltZVNsb3RzKHNjaG9vbElkOiBzdHJpbmcpIHtcclxuICBjb25zb2xlLmxvZyhgQ3JlYXRpbmcgdGltZSBzbG90cyBmb3Igc2Nob29sOiAke3NjaG9vbElkfWApXHJcbiAgXHJcbiAgLy8gRmlyc3QsIGRlYWN0aXZhdGUgZXhpc3RpbmcgdGltZSBzbG90cyBmb3IgdGhpcyBzY2hvb2xcclxuICBhd2FpdCBkYi50aW1lU2xvdC51cGRhdGVNYW55KHtcclxuICAgIHdoZXJlOiB7IHNjaG9vbElkIH0sXHJcbiAgICBkYXRhOiB7IGlzQWN0aXZlOiBmYWxzZSB9XHJcbiAgfSlcclxuXHJcbiAgY29uc3QgZGF5c09mV2VlayA9IFsnTU9OREFZJywgJ1RVRVNEQVknLCAnV0VETkVTREFZJywgJ1RIVVJTREFZJywgJ0ZSSURBWSddXHJcbiAgY29uc3QgdGltZVNsb3RzID0gW11cclxuXHJcbiAgLy8gQ3JlYXRlIHRpbWUgc2xvdHMgZm9yIGVhY2ggZGF5XHJcbiAgZm9yIChjb25zdCBkYXkgb2YgZGF5c09mV2Vlaykge1xyXG4gICAgLy8gU2Nob29sIEFzc2VtYmx5OiAwNzo0NSDigJMgMDg6MDBcclxuICAgIHRpbWVTbG90cy5wdXNoKFxyXG4gICAgICB7XHJcbiAgICAgICAgc2Nob29sSWQsXHJcbiAgICAgICAgZGF5LFxyXG4gICAgICAgIHBlcmlvZDogMCwgLy8gVXNlIDAgZm9yIGJyZWFrc1xyXG4gICAgICAgIG5hbWU6ICdTY2hvb2wgQXNzZW1ibHknLFxyXG4gICAgICAgIHN0YXJ0VGltZTogbmV3IERhdGUoJzE5NzAtMDEtMDFUMDc6NDU6MDAnKSxcclxuICAgICAgICBlbmRUaW1lOiBuZXcgRGF0ZSgnMTk3MC0wMS0wMVQwODowMDowMCcpLFxyXG4gICAgICAgIHNlc3Npb246ICdBU1NFTUJMWScsXHJcbiAgICAgICAgaXNCcmVhazogdHJ1ZSxcclxuICAgICAgICBicmVha1R5cGU6ICdBU1NFTUJMWScsXHJcbiAgICAgICAgaXNBY3RpdmU6IHRydWVcclxuICAgICAgfSxcclxuICAgICAgLy8gUGVyaW9kIDE6IDA4OjAwIOKAkyAwODo0MFxyXG4gICAgICB7XHJcbiAgICAgICAgc2Nob29sSWQsXHJcbiAgICAgICAgZGF5LFxyXG4gICAgICAgIHBlcmlvZDogMSxcclxuICAgICAgICBuYW1lOiAnUGVyaW9kIDEnLFxyXG4gICAgICAgIHN0YXJ0VGltZTogbmV3IERhdGUoJzE5NzAtMDEtMDFUMDg6MDA6MDAnKSxcclxuICAgICAgICBlbmRUaW1lOiBuZXcgRGF0ZSgnMTk3MC0wMS0wMVQwODo0MDowMCcpLFxyXG4gICAgICAgIHNlc3Npb246ICdNT1JOSU5HJyxcclxuICAgICAgICBpc0FjdGl2ZTogdHJ1ZVxyXG4gICAgICB9LFxyXG4gICAgICAvLyBQZXJpb2QgMjogMDg6NDAg4oCTIDA5OjIwXHJcbiAgICAgIHtcclxuICAgICAgICBzY2hvb2xJZCxcclxuICAgICAgICBkYXksXHJcbiAgICAgICAgcGVyaW9kOiAyLFxyXG4gICAgICAgIG5hbWU6ICdQZXJpb2QgMicsXHJcbiAgICAgICAgc3RhcnRUaW1lOiBuZXcgRGF0ZSgnMTk3MC0wMS0wMVQwODo0MDowMCcpLFxyXG4gICAgICAgIGVuZFRpbWU6IG5ldyBEYXRlKCcxOTcwLTAxLTAxVDA5OjIwOjAwJyksXHJcbiAgICAgICAgc2Vzc2lvbjogJ01PUk5JTkcnLFxyXG4gICAgICAgIGlzQWN0aXZlOiB0cnVlXHJcbiAgICAgIH0sXHJcbiAgICAgIC8vIFBlcmlvZCAzOiAwOToyMCDigJMgMTA6MDBcclxuICAgICAge1xyXG4gICAgICAgIHNjaG9vbElkLFxyXG4gICAgICAgIGRheSxcclxuICAgICAgICBwZXJpb2Q6IDMsXHJcbiAgICAgICAgbmFtZTogJ1BlcmlvZCAzJyxcclxuICAgICAgICBzdGFydFRpbWU6IG5ldyBEYXRlKCcxOTcwLTAxLTAxVDA5OjIwOjAwJyksXHJcbiAgICAgICAgZW5kVGltZTogbmV3IERhdGUoJzE5NzAtMDEtMDFUMTA6MDA6MDAnKSxcclxuICAgICAgICBzZXNzaW9uOiAnTU9STklORycsXHJcbiAgICAgICAgaXNBY3RpdmU6IHRydWVcclxuICAgICAgfSxcclxuICAgICAgLy8gTW9ybmluZyBCcmVhazogMTA6MDAg4oCTIDEwOjIwXHJcbiAgICAgIHtcclxuICAgICAgICBzY2hvb2xJZCxcclxuICAgICAgICBkYXksXHJcbiAgICAgICAgcGVyaW9kOiAwLCAvLyBVc2UgMCBmb3IgYnJlYWtzXHJcbiAgICAgICAgbmFtZTogJ01vcm5pbmcgQnJlYWsnLFxyXG4gICAgICAgIHN0YXJ0VGltZTogbmV3IERhdGUoJzE5NzAtMDEtMDFUMTA6MDA6MDAnKSxcclxuICAgICAgICBlbmRUaW1lOiBuZXcgRGF0ZSgnMTk3MC0wMS0wMVQxMDoyMDowMCcpLFxyXG4gICAgICAgIHNlc3Npb246ICdCUkVBSycsXHJcbiAgICAgICAgaXNCcmVhazogdHJ1ZSxcclxuICAgICAgICBicmVha1R5cGU6ICdNT1JOSU5HJyxcclxuICAgICAgICBpc0FjdGl2ZTogdHJ1ZVxyXG4gICAgICB9LFxyXG4gICAgICAvLyBQZXJpb2QgNDogMTA6MjAg4oCTIDExOjAwXHJcbiAgICAgIHtcclxuICAgICAgICBzY2hvb2xJZCxcclxuICAgICAgICBkYXksXHJcbiAgICAgICAgcGVyaW9kOiA0LFxyXG4gICAgICAgIG5hbWU6ICdQZXJpb2QgNCcsXHJcbiAgICAgICAgc3RhcnRUaW1lOiBuZXcgRGF0ZSgnMTk3MC0wMS0wMVQxMDoyMDowMCcpLFxyXG4gICAgICAgIGVuZFRpbWU6IG5ldyBEYXRlKCcxOTcwLTAxLTAxVDExOjAwOjAwJyksXHJcbiAgICAgICAgc2Vzc2lvbjogJ01PUk5JTkcnLFxyXG4gICAgICAgIGlzQWN0aXZlOiB0cnVlXHJcbiAgICAgIH0sXHJcbiAgICAgIC8vIFBlcmlvZCA1OiAxMTowMCDigJMgMTE6NDBcclxuICAgICAge1xyXG4gICAgICAgIHNjaG9vbElkLFxyXG4gICAgICAgIGRheSxcclxuICAgICAgICBwZXJpb2Q6IDUsXHJcbiAgICAgICAgbmFtZTogJ1BlcmlvZCA1JyxcclxuICAgICAgICBzdGFydFRpbWU6IG5ldyBEYXRlKCcxOTcwLTAxLTAxVDExOjAwOjAwJyksXHJcbiAgICAgICAgZW5kVGltZTogbmV3IERhdGUoJzE5NzAtMDEtMDFUMTE6NDA6MDAnKSxcclxuICAgICAgICBzZXNzaW9uOiAnTU9STklORycsXHJcbiAgICAgICAgaXNBY3RpdmU6IHRydWVcclxuICAgICAgfSxcclxuICAgICAgLy8gTHVuY2ggQnJlYWs6IDExOjQwIOKAkyAxMzoxMFxyXG4gICAgICB7XHJcbiAgICAgICAgc2Nob29sSWQsXHJcbiAgICAgICAgZGF5LFxyXG4gICAgICAgIHBlcmlvZDogMCwgLy8gVXNlIDAgZm9yIGJyZWFrc1xyXG4gICAgICAgIG5hbWU6ICdMdW5jaCBCcmVhaycsXHJcbiAgICAgICAgc3RhcnRUaW1lOiBuZXcgRGF0ZSgnMTk3MC0wMS0wMVQxMTo0MDowMCcpLFxyXG4gICAgICAgIGVuZFRpbWU6IG5ldyBEYXRlKCcxOTcwLTAxLTAxVDEzOjEwOjAwJyksXHJcbiAgICAgICAgc2Vzc2lvbjogJ0JSRUFLJyxcclxuICAgICAgICBpc0JyZWFrOiB0cnVlLFxyXG4gICAgICAgIGJyZWFrVHlwZTogJ0xVTkNIJyxcclxuICAgICAgICBpc0FjdGl2ZTogdHJ1ZVxyXG4gICAgICB9LFxyXG4gICAgICAvLyBQZXJpb2QgNjogMTM6MTAg4oCTIDEzOjUwXHJcbiAgICAgIHtcclxuICAgICAgICBzY2hvb2xJZCxcclxuICAgICAgICBkYXksXHJcbiAgICAgICAgcGVyaW9kOiA2LFxyXG4gICAgICAgIG5hbWU6ICdQZXJpb2QgNicsXHJcbiAgICAgICAgc3RhcnRUaW1lOiBuZXcgRGF0ZSgnMTk3MC0wMS0wMVQxMzoxMDowMCcpLFxyXG4gICAgICAgIGVuZFRpbWU6IG5ldyBEYXRlKCcxOTcwLTAxLTAxVDEzOjUwOjAwJyksXHJcbiAgICAgICAgc2Vzc2lvbjogJ0FGVEVSTk9PTicsXHJcbiAgICAgICAgaXNBY3RpdmU6IHRydWVcclxuICAgICAgfSxcclxuICAgICAgLy8gUGVyaW9kIDc6IDEzOjUwIOKAkyAxNDozMFxyXG4gICAgICB7XHJcbiAgICAgICAgc2Nob29sSWQsXHJcbiAgICAgICAgZGF5LFxyXG4gICAgICAgIHBlcmlvZDogNyxcclxuICAgICAgICBuYW1lOiAnUGVyaW9kIDcnLFxyXG4gICAgICAgIHN0YXJ0VGltZTogbmV3IERhdGUoJzE5NzAtMDEtMDFUMTM6NTA6MDAnKSxcclxuICAgICAgICBlbmRUaW1lOiBuZXcgRGF0ZSgnMTk3MC0wMS0wMVQxNDozMDowMCcpLFxyXG4gICAgICAgIHNlc3Npb246ICdBRlRFUk5PT04nLFxyXG4gICAgICAgIGlzQWN0aXZlOiB0cnVlXHJcbiAgICAgIH0sXHJcbiAgICAgIC8vIFBlcmlvZCA4OiAxNDozMCDigJMgMTU6MTBcclxuICAgICAge1xyXG4gICAgICAgIHNjaG9vbElkLFxyXG4gICAgICAgIGRheSxcclxuICAgICAgICBwZXJpb2Q6IDgsXHJcbiAgICAgICAgbmFtZTogJ1BlcmlvZCA4JyxcclxuICAgICAgICBzdGFydFRpbWU6IG5ldyBEYXRlKCcxOTcwLTAxLTAxVDE0OjMwOjAwJyksXHJcbiAgICAgICAgZW5kVGltZTogbmV3IERhdGUoJzE5NzAtMDEtMDFUMTU6MTA6MDAnKSxcclxuICAgICAgICBzZXNzaW9uOiAnQUZURVJOT09OJyxcclxuICAgICAgICBpc0FjdGl2ZTogdHJ1ZVxyXG4gICAgICB9LFxyXG4gICAgICAvLyBBZnRlcm5vb24gQnJlYWs6IDE1OjEwIOKAkyAxNTozMFxyXG4gICAgICB7XHJcbiAgICAgICAgc2Nob29sSWQsXHJcbiAgICAgICAgZGF5LFxyXG4gICAgICAgIHBlcmlvZDogMCwgLy8gVXNlIDAgZm9yIGJyZWFrc1xyXG4gICAgICAgIG5hbWU6ICdBZnRlcm5vb24gQnJlYWsnLFxyXG4gICAgICAgIHN0YXJ0VGltZTogbmV3IERhdGUoJzE5NzAtMDEtMDFUMTU6MTA6MDAnKSxcclxuICAgICAgICBlbmRUaW1lOiBuZXcgRGF0ZSgnMTk3MC0wMS0wMVQxNTozMDowMCcpLFxyXG4gICAgICAgIHNlc3Npb246ICdCUkVBSycsXHJcbiAgICAgICAgaXNCcmVhazogdHJ1ZSxcclxuICAgICAgICBicmVha1R5cGU6ICdBRlRFUk5PT04nLFxyXG4gICAgICAgIGlzQWN0aXZlOiB0cnVlXHJcbiAgICAgIH0sXHJcbiAgICAgIC8vIFBlcmlvZCA5OiAxNTozMCDigJMgMTY6MTBcclxuICAgICAge1xyXG4gICAgICAgIHNjaG9vbElkLFxyXG4gICAgICAgIGRheSxcclxuICAgICAgICBwZXJpb2Q6IDksXHJcbiAgICAgICAgbmFtZTogJ1BlcmlvZCA5JyxcclxuICAgICAgICBzdGFydFRpbWU6IG5ldyBEYXRlKCcxOTcwLTAxLTAxVDE1OjMwOjAwJyksXHJcbiAgICAgICAgZW5kVGltZTogbmV3IERhdGUoJzE5NzAtMDEtMDFUMTY6MTA6MDAnKSxcclxuICAgICAgICBzZXNzaW9uOiAnQUZURVJOT09OJyxcclxuICAgICAgICBpc0FjdGl2ZTogdHJ1ZVxyXG4gICAgICB9LFxyXG4gICAgICAvLyBQZXJpb2QgMTA6IDE2OjEwIOKAkyAxNjo1MFxyXG4gICAgICB7XHJcbiAgICAgICAgc2Nob29sSWQsXHJcbiAgICAgICAgZGF5LFxyXG4gICAgICAgIHBlcmlvZDogMTAsXHJcbiAgICAgICAgbmFtZTogJ1BlcmlvZCAxMCcsXHJcbiAgICAgICAgc3RhcnRUaW1lOiBuZXcgRGF0ZSgnMTk3MC0wMS0wMVQxNjoxMDowMCcpLFxyXG4gICAgICAgIGVuZFRpbWU6IG5ldyBEYXRlKCcxOTcwLTAxLTAxVDE2OjUwOjAwJyksXHJcbiAgICAgICAgc2Vzc2lvbjogJ0FGVEVSTk9PTicsXHJcbiAgICAgICAgaXNBY3RpdmU6IHRydWVcclxuICAgICAgfSxcclxuICAgICAgLy8gUGVyaW9kIDExOiAxNjo1MCDigJMgMTc6MzBcclxuICAgICAge1xyXG4gICAgICAgIHNjaG9vbElkLFxyXG4gICAgICAgIGRheSxcclxuICAgICAgICBwZXJpb2Q6IDExLFxyXG4gICAgICAgIG5hbWU6ICdQZXJpb2QgMTEnLFxyXG4gICAgICAgIHN0YXJ0VGltZTogbmV3IERhdGUoJzE5NzAtMDEtMDFUMTY6NTA6MDAnKSxcclxuICAgICAgICBlbmRUaW1lOiBuZXcgRGF0ZSgnMTk3MC0wMS0wMVQxNzozMDowMCcpLFxyXG4gICAgICAgIHNlc3Npb246ICdFVkVOSU5HJyxcclxuICAgICAgICBpc0FjdGl2ZTogdHJ1ZVxyXG4gICAgICB9LFxyXG4gICAgICAvLyBQZXJpb2QgMTI6IDE3OjMwIOKAkyAxODoxMFxyXG4gICAgICB7XHJcbiAgICAgICAgc2Nob29sSWQsXHJcbiAgICAgICAgZGF5LFxyXG4gICAgICAgIHBlcmlvZDogMTIsXHJcbiAgICAgICAgbmFtZTogJ1BlcmlvZCAxMicsXHJcbiAgICAgICAgc3RhcnRUaW1lOiBuZXcgRGF0ZSgnMTk3MC0wMS0wMVQxNzozMDowMCcpLFxyXG4gICAgICAgIGVuZFRpbWU6IG5ldyBEYXRlKCcxOTcwLTAxLTAxVDE4OjEwOjAwJyksXHJcbiAgICAgICAgc2Vzc2lvbjogJ0VWRU5JTkcnLFxyXG4gICAgICAgIGlzQWN0aXZlOiB0cnVlXHJcbiAgICAgIH0sXHJcbiAgICAgIC8vIFBlcmlvZCAxMzogMTg6MTAg4oCTIDE4OjUwXHJcbiAgICAgIHtcclxuICAgICAgICBzY2hvb2xJZCxcclxuICAgICAgICBkYXksXHJcbiAgICAgICAgcGVyaW9kOiAxMyxcclxuICAgICAgICBuYW1lOiAnUGVyaW9kIDEzJyxcclxuICAgICAgICBzdGFydFRpbWU6IG5ldyBEYXRlKCcxOTcwLTAxLTAxVDE4OjEwOjAwJyksXHJcbiAgICAgICAgZW5kVGltZTogbmV3IERhdGUoJzE5NzAtMDEtMDFUMTg6NTA6MDAnKSxcclxuICAgICAgICBzZXNzaW9uOiAnRVZFTklORycsXHJcbiAgICAgICAgaXNBY3RpdmU6IHRydWVcclxuICAgICAgfSxcclxuXHJcbiAgICApXHJcbiAgfVxyXG5cclxuICAvLyBCdWxrIGNyZWF0ZSBhbGwgdGltZSBzbG90c1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBjcmVhdGVkU2xvdHMgPSBhd2FpdCBkYi50aW1lU2xvdC5jcmVhdGVNYW55KHtcclxuICAgICAgZGF0YTogdGltZVNsb3RzXHJcbiAgICB9KVxyXG4gICAgXHJcbiAgICBjb25zb2xlLmxvZyhg4pyFIENyZWF0ZWQgJHtjcmVhdGVkU2xvdHMuY291bnR9IHRpbWUgc2xvdHMgZm9yIHNjaG9vbCAke3NjaG9vbElkfWApXHJcbiAgICBcclxuICAgIC8vIFZlcmlmeSB0aGUgY3JlYXRpb25cclxuICAgIGNvbnN0IHRvdGFsU2xvdHMgPSBhd2FpdCBkYi50aW1lU2xvdC5jb3VudCh7XHJcbiAgICAgIHdoZXJlOiB7IHNjaG9vbElkLCBpc0FjdGl2ZTogdHJ1ZSB9XHJcbiAgICB9KVxyXG4gICAgXHJcbiAgICBjb25zb2xlLmxvZyhg8J+TiiBUb3RhbCBhY3RpdmUgdGltZSBzbG90czogJHt0b3RhbFNsb3RzfWApXHJcbiAgICBcclxuICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGNvdW50OiBjcmVhdGVkU2xvdHMuY291bnQgfVxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCfinYwgRXJyb3IgY3JlYXRpbmcgdGltZSBzbG90czonLCBlcnJvcilcclxuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpIH1cclxuICB9XHJcbn0iXSwibmFtZXMiOlsiZGIiLCJjcmVhdGVTY2hvb2xUaW1lU2xvdHMiLCJzY2hvb2xJZCIsImNvbnNvbGUiLCJsb2ciLCJ0aW1lU2xvdCIsInVwZGF0ZU1hbnkiLCJ3aGVyZSIsImRhdGEiLCJpc0FjdGl2ZSIsImRheXNPZldlZWsiLCJ0aW1lU2xvdHMiLCJkYXkiLCJwdXNoIiwicGVyaW9kIiwibmFtZSIsInN0YXJ0VGltZSIsIkRhdGUiLCJlbmRUaW1lIiwic2Vzc2lvbiIsImlzQnJlYWsiLCJicmVha1R5cGUiLCJjcmVhdGVkU2xvdHMiLCJjcmVhdGVNYW55IiwiY291bnQiLCJ0b3RhbFNsb3RzIiwic3VjY2VzcyIsImVycm9yIiwiRXJyb3IiLCJtZXNzYWdlIiwiU3RyaW5nIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/create-school-time-slots.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/db.ts":
/*!***********************!*\
  !*** ./src/lib/db.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   db: () => (/* binding */ db)\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n\nconst globalForPrisma = globalThis;\nconst db = globalForPrisma.prisma ?? new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient();\nif (true) globalForPrisma.prisma = db;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL2RiLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUE2QztBQUU3QyxNQUFNQyxrQkFBa0JDO0FBSWpCLE1BQU1DLEtBQUtGLGdCQUFnQkcsTUFBTSxJQUFJLElBQUlKLHdEQUFZQSxHQUFFO0FBRTlELElBQUlLLElBQXlCLEVBQWNKLGdCQUFnQkcsTUFBTSxHQUFHRCIsInNvdXJjZXMiOlsid2VicGFjazovL3NjaG9vbC10aW1ldGFibGUtbWFuYWdlbWVudC8uL3NyYy9saWIvZGIudHM/OWU0ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQcmlzbWFDbGllbnQgfSBmcm9tICdAcHJpc21hL2NsaWVudCdcclxuXHJcbmNvbnN0IGdsb2JhbEZvclByaXNtYSA9IGdsb2JhbFRoaXMgYXMgdW5rbm93biBhcyB7XHJcbiAgICBwcmlzbWE6IFByaXNtYUNsaWVudCB8IHVuZGVmaW5lZFxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgZGIgPSBnbG9iYWxGb3JQcmlzbWEucHJpc21hID8/IG5ldyBQcmlzbWFDbGllbnQoKVxyXG5cclxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIGdsb2JhbEZvclByaXNtYS5wcmlzbWEgPSBkYiJdLCJuYW1lcyI6WyJQcmlzbWFDbGllbnQiLCJnbG9iYWxGb3JQcmlzbWEiLCJnbG9iYWxUaGlzIiwiZGIiLCJwcmlzbWEiLCJwcm9jZXNzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/db.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/bcryptjs","vendor-chunks/zod"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fschools%2Froute&page=%2Fapi%2Fschools%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fschools%2Froute.ts&appDir=c%3A%5CUsers%5CTRAINER%201%5CDesktop%5CWEB%20DEVELOP%5CAUTOMATIC%20SCHOOL%20TIMETABLE%20MANAGEMENT%20SYSTEM%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=c%3A%5CUsers%5CTRAINER%201%5CDesktop%5CWEB%20DEVELOP%5CAUTOMATIC%20SCHOOL%20TIMETABLE%20MANAGEMENT%20SYSTEM&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();